(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,a,t){"use strict";(function(e){var n=t(36),l=t.n(n),c=t(37),r=t.n(c),i=l()(r.a,e.Promise),s=function(e){return e.body},o=function(e){return i.get("".concat("https://www.reddit.com/r/").concat(e)).then(s)},m={subreddit:function(e){return o("".concat(e,".json"))}};a.a={Home:m}}).call(this,t(5))},44:function(e,a,t){e.exports=t(87)},87:function(e,a,t){"use strict";t.r(a);var n=t(6),l=t.n(n),c=t(7),r=t(0),i=t.n(r),s=t(8),o=(t(66),t(17)),m=t.n(o),u=function(e){return function(a){return function(t){if((n=t.payload)&&"function"===typeof n)return e.dispatch({type:"ASYNC_START",subtype:t.type}),m.a.start(),void t.payload(t.key).then(function(a){console.log("RESULT",a),t.payload=a,window.localStorage.setItem(t.key,JSON.stringify(a)),e.dispatch({type:"ASYNC_END",promise:t.payload}),e.dispatch(t),m.a.done()},function(a){console.log("ERROR",a),t.error=!0,t.payload=a.response.body,e.dispatch({type:"ASYNC_END",promise:t.payload}),e.dispatch(t),m.a.done()});var n;a(t)}}},d=function(e){return function(e){return function(a){var t=window.localStorage.getItem(a.key);null!==t&&(a.payload=JSON.parse(t)),e(a)}}};var p=t(11),g={appName:"Subreddits",appLoaded:!1,data:null,subreddits:[{value:0,label:"alternativeart"},{value:1,label:"pics"},{value:2,label:"gifs"},{value:3,label:"adviceanimals"},{value:4,label:"cats"},{value:5,label:"images"},{value:6,label:"photoshopbattles"},{value:7,label:"hmmm"},{value:8,label:"all"},{value:9,label:"aww"}]},v=t(9),E=Object(s.combineReducers)({common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"APP_LOAD":return Object(p.a)({},e,{appLoaded:!0});case"CHANGE_SUBREDDIT":return Object(p.a)({},e,{pageIndex:0,data:a.payload});case"CHANGE_PAGE":return Object(p.a)({},e,{pageIndex:a.pageIndex});default:return e}},router:v.c}),b=t(34),h=t.n(b)()(),f=Object(v.b)(h),N=Object(s.createStore)(E,Object(s.applyMiddleware)(f,d,u)),y=t(90),k=t(89),C=t(12),O=t(13),j=t(15),w=t(14),I=t(16),S=t(42),A=t(35),P=function(e){var a=function(){e.closeImage()};return null!==e.value?i.a.createElement("div",{className:"modal is-active"},i.a.createElement("div",{className:"image"},i.a.createElement("div",{className:"viewPort"},i.a.createElement("div",{onClick:a,className:"modal-background"}),i.a.createElement("img",{className:"maxWH",src:e.value,alt:""}))),i.a.createElement("button",{onClick:a,className:"modal-close is-large","aria-label":"close"})):null},x=function(e){return i.a.createElement("div",null,e.redditArr.map(function(a){return i.a.createElement("div",{className:"box",key:a.id},i.a.createElement("article",{className:"media"},i.a.createElement("div",{className:"media-left"},i.a.createElement("figure",{className:"image is-128x128 hideOverflow"},i.a.createElement("img",{onClick:function(){return e.onImageClick(a.image)},src:a.image,alt:"Article"}))),i.a.createElement("div",{className:"media-content"},i.a.createElement("div",{className:"content"},i.a.createElement("p",null,i.a.createElement("span",{className:"subtitle"},i.a.createElement("strong",null,a.title)),i.a.createElement("br",null),i.a.createElement("span",{className:"article-author"},a.author),i.a.createElement("br",null),i.a.createElement("small",null,i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a.url},a.url)))),i.a.createElement("nav",{className:"level is-mobile article-meta"},i.a.createElement("div",{className:"level-left"},i.a.createElement("div",{className:"level-item","aria-label":"reply"},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"fas fa-angle-up","aria-hidden":"true"})),"\xa0",a.upvotes,"\xa0Upvotes"),i.a.createElement("div",{className:"level-item","aria-label":"retweet"},i.a.createElement("span",{className:"icon is-small"},i.a.createElement("i",{className:"fas fa-comments","aria-hidden":"true"})),"\xa0",a.commentsCount,"\xa0Comments"))))))}))},_=function(e){for(var a=[],t=0;t<e.pages;t++){var n=t+1;t===e.pageIndex/10?a.push(i.a.createElement("li",{key:n},i.a.createElement("a",{onClick:e.clickPage,className:"pagination-link is-current"},n))):a.push(i.a.createElement("li",{key:n},i.a.createElement("a",{onClick:e.clickPage,className:"pagination-link"},n)))}return i.a.createElement("ul",{id:"pagination_list",className:"pagination-list"},a)},L=function(e){function a(e){var t;return Object(C.a)(this,a),(t=Object(j.a)(this,Object(w.a)(a).call(this,e))).changeSubreddit=function(e){t.props.onChangeSubreddit(e.label,A.a.Home.subreddit)},t.onImageClick=function(e){t.setState({image:e})},t.onCloseImage=function(){t.setState({image:null})},t.clickPage=function(e){var a=10*(Number(e.target.innerHTML)-1);t.props.onChangePage(a)},t.escFunction=function(e){27===e.keyCode&&t.setState({image:null})},t.state={image:null},t}return Object(I.a)(a,e),Object(O.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escFunction)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction)}},{key:"render",value:function(){var e,a,t=[];if(null!==this.props.data){t=this.props.data.data.children.map(function(e){return{id:e.data.id,title:e.data.title,url:e.data.url,image:e.data.url,commentsCount:e.data.num_comments,upvotes:e.data.ups,author:e.data.author}}).filter(function(e){return null!=e.url.match(/\.(jpeg|jpg|gif|png)$/)});var n=Math.ceil(t.length/10);a=n>1?i.a.createElement(_,{clickPage:this.clickPage,pages:n,pageIndex:this.props.pageIndex}):null,t.length>10&&(t=t.slice(this.props.pageIndex,this.props.pageIndex+10))}return t.length>0?e=i.a.createElement(x,{onImageClick:this.onImageClick,redditArr:t}):(e=i.a.createElement("div",null,"Select subreddit to display posts ..."),a=null),i.a.createElement("div",null,i.a.createElement("nav",{className:"navbar is-spaced has-shadow t-navbar"},i.a.createElement("div",{className:"container header"},i.a.createElement("div",{className:"navbar-menu is-active"},i.a.createElement("div",{className:"navbar-start"},i.a.createElement("p",{className:"is-size-5"},"\xa0",this.props.appName))))),i.a.createElement("section",{className:"section home"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"m-select-box"},i.a.createElement("p",{className:"subtitle"},"Select your subreddit"),i.a.createElement(S.a,{onChange:this.changeSubreddit,options:this.props.subreddits,id:"subreddits",className:"subreddits"})),i.a.createElement("div",{className:"m-data"},i.a.createElement("p",{className:"subtitle"},"Posts"),e),i.a.createElement("nav",{className:"pagination paginate","aria-label":"pagination"},a))),i.a.createElement(P,{closeImage:this.onCloseImage,value:this.state.image}))}}]),a}(i.a.Component),D=Object(c.connect)(function(e){return Object(p.a)({},e.common)},function(e){return{onChangeSubreddit:function(a,t){return e({type:"CHANGE_SUBREDDIT",payload:t,key:a})},onChangePage:function(a){return e({type:"CHANGE_PAGE",pageIndex:a})}}})(L),H=function(e){function a(){return Object(C.a)(this,a),Object(j.a)(this,Object(w.a)(a).apply(this,arguments))}return Object(I.a)(a,e),Object(O.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(D,{appName:this.props.appName}))}}]),a}(i.a.Component),R=Object(c.connect)(function(e){return{appLoaded:e.common.appLoaded,appName:e.common.appName,data:e.common.data}},function(e){return{onLoad:function(a){return e({type:"APP_LOAD",payload:a})}}})(H);l.a.render(i.a.createElement(c.Provider,{store:N},i.a.createElement(v.a,{history:h},i.a.createElement(y.a,null,i.a.createElement(k.a,{path:"/",component:R})))),document.getElementById("root"))}},[[44,2,1]]]);
//# sourceMappingURL=main.9329286c.chunk.js.map